<html lang="en">
    <header>
        <!-- <a href="/hello"><img src="/static/svg/home.svg" alt="home"></a> -->
        <link rel="stylesheet" href="/static/styles/app_style.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    </header>
    <body>
        <div class="bar">
            <a href="/components"> FailiverCheck</a>
            <!-- <span class="nav">
                <a href="/hello">Компоненты</a>
                <a href="">Заявки</a>
            </span> -->

        </div>
        <div class="page">
            {{if .systemCalc}}
            <div>
                <h1> Расчет доступности системы</h1>
                {{if .systemCalc.AvailableCalculation}}
                <p><span id="available">{{.systemCalc.AvailableCalculation}}%</span> <span>от времени использования</span> </p>
                {{else}}
                 <h3>Здесь появится расчет вашей системы<h3>
                {{end}}
            </div>
            <h1> Составление заявки</h1>
            <div class="component-container">
            {{ range .components}}
                
                    <div class="component">
                        <div class="title">
                            <span id="img-icon">
                                <img src= "{{.Component.Img}}" alt="icon"/>
                            </span>
                            <span > <a href="/components/{{.Component.ID}}">{{ .Component.Title }}</a></span>
                        </div>
                        <div class="left-container">
                            <div> 
                                <div> Кол-во репликаций</div>
                                <input type="number" name="count" placeholder="" value="{{.ReplicationCount}}">
                            </div>
                            <a href="" class="button delete trash"> <img src="http://localhost:9000/failivercheck/svg/trash.svg"></img></a>
                        </div>
                    </div>
            {{ end }}
            </div>
            <h1> Название системы</h1>
            <div class="form-containeer">
                <input type="text" placeholder="Придумайте название" value="{{.systemCalc.SystemName}}">
                <!-- <button class="button add"> Сохранить</button> -->
            </div>
            <div class="buttons">
                <!-- <button class="button add"> Создать заявку</button> -->
                <form action="/availability_calc/" method="POST" class="delete-form">
                    <input type="hidden"  name="system_id" value="{{.systemCalc.ID}}"/>
                    <button type="submit"class="button delete"> Удалить заявку</button>
                 </form>
                
            </div>
        </div>
        {{else}}
        <h1>Система на найдена</h1>
        {{end }}
    </body>

</html>